<html>
    <head>
        <title>multiplayer mining</title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <ul>
            <div class="sect" id="ore">ore: </div>
            <div class="sect" id="mine">mine</div>
            <div class="sect" id="yore">your ore: </div>
        </ul>
        <script src="/socket.io/socket.io.js"></script>
        <script>
            var socket=io();
            var oress;

            var ore=document.getElementById("ore");
            var mine=document.getElementById("mine");
            var yore=document.getElementById("yore");

            socket.on("connect", () => {
                console.log(socket.id); // ojIckSD2jqNzOqIrAGzL
            });

            socket.on("init", (ores) => {
                oress=ores;
                ore.innerHTML="Ore: " + ores; // world
            });

            mine.addEventListener('click', function(e) {
                mine.innerHTML="mine (5 secs)";
                for(var i=5;i>0;i--){
                    setTimeout(function(){ mine.innerHTML="mine ("+i+" secs)"; }, 1000);
                }
                if(oress>5){
                    yore.innerHTML="your ore: 5";
                    socket.emit("miner", 5);
                }
            });
        </script>
    </body>
</html>